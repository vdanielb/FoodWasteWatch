<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>U.S. Food-Waste Prototype</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <script defer src="https://d3js.org/d3.v7.min.js"></script>
  <script defer src="https://unpkg.com/topojson-client@3"></script>
  <script defer src="scrollytelling.js"></script>
  <script defer src="main.js"></script>
</head>

<body>
  <div class="newspaper-header">
    <h1>The Antiko Times</h1>
  </div>
  <header>
    <img src="images/food waste.webp" alt="Food Waste Visualization" class="header-image">
    <h1>Food Waste in the United States</h1>
    <h2 class="subtitle">A Visual Exploration of America's Food Waste Crisis</h2>
    <div class="scroll-indicator">
      <span>Scroll to explore</span>
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M12 5v14M5 12l7 7 7-7"/>
      </svg>
    </div>
    <div id="food-waste-animation" style="width:100%; display:flex; justify-content:center; margin: 30px 0;"></div>
  </header>

  <section id="scrolly-foodwaste" class="scrollytelling">
    <!-- Fixed layout that stays in place while scrolling -->
    <div class="fixed-layout">
      <!-- Container for trash animation and summary text -->
      <div class="trash-container">
        <!-- Fixed trash animation on the left -->
        <div class="fixed-trash-animation" id="fixed-trash-animation"></div>
        <!-- Summary text that updates with current period -->
        <div class="trash-summary" id="trash-summary">
          <span class="amount" id="summary-amount">1</span> lb of food wasted per day
        </div>
      </div>
      
      <!-- Food visualization area on the right -->
      <div class="food-visualization-area" id="food-visualization-area"></div>
    </div>
    
    <!-- Moving text boxes that scroll through the entire viewport -->
    <div class="moving-text-box" id="text-box-1">
      <h2>The average American wastes around <span class="fw-day" id="day-number">XX</span> lb of food per day. It may not seem like much at first glance...</h2>
    </div>
    
    <div class="moving-text-box" id="text-box-2">
      <h2>But over the course of a month, this seemingly small amount accumulates to <span class="fw-month" id="month-number">XX</span> lbs of perfectly good food thrown away.</h2>
    </div>
    
    <div class="moving-text-box" id="text-box-3">
      <h2>And in a single year? That daily waste compounds into a staggering <span class="fw-year" id="year-number">XX</span> lbs of food discarded per person, enough to feed families for weeks.</h2>
    </div>
    
    <!-- Household section - only year -->
    <div class="moving-text-box" id="text-box-4">
      <h2>Over an entire year, that's <span class="fw-household-year" id="household-year-number">XX</span> lbs of wasted food per household - enough groceries to fill a small room.</h2>
    </div>
    
    <!-- City section -->
    <div class="moving-text-box" id="text-box-5">
      <h2>Scale this up to an average city of 100,000 people, and we're looking at <span class="fw-city-year" id="city-year-number">XX</span> million lbs of food waste per year.</h2>
    </div>
    
    <!-- State section -->
    <div class="moving-text-box" id="text-box-6">
      <h2>At the state level, with millions of residents, the annual food waste reaches a staggering <span class="fw-state-year" id="state-year-number">XX</span> billion lbs - enough to feed entire nations.</h2>
    </div>
    
    <!-- Country section -->
    <div class="moving-text-box" id="text-box-7">
      <h2>Now imagine the entire United States - a catastrophic <span class="fw-country-year" id="country-year-number">XX</span> billion lbs of food wasted annually. This is an environmental disaster happening right now, every single day.</h2>
    </div>
    
    <!-- Extended scroll area for the text movement -->
    <div class="extended-scroll-area"></div>
  </section>

  <!-- Country headline section -->
  <section id="country-headline-section" class="country-headline-section">
    <div class="country-header">
      <h1 id="country-headline">What if I told you:</h1>
      <h2 id="country-subtext-1">Americans waste over <span class="red-number">126</span> billion pounds of food every year</h2>
      <h2 id="country-subtext-2">This is not just "waste." It's a full-blown crisis that demands our attention.</h2>
    </div>
  </section>

  <!-- Country visualization section -->
  <section id="country-section" class="country-visualization">
    <div class="country-container" id="country-container">
      <div class="country-visual" id="country-visual">
        <!-- Food emojis will be dynamically added here -->
      </div>
      <div class="country-scale">
        <div class="scale-labels" id="scale-labels">
          <!-- Scale markers will be added dynamically -->
        </div>
      </div>
    </div>
  </section>

  <!-- Transition section between country visualization and map -->
  <section id="transition-section" class="transition-section">
    <div class="transition-content">
      <h1 id="transition-header">Did you know?</h1>
      <h2 id="transition-text-1"><span class="red-number">California</span> alone accounts for over <span class="red-number">10 billion pounds</span> of that waste each year.</h2>
      <h2 id="transition-text-2">Explore the map below to see how your own state compares.</h2>
      <div id="transition-arrow-section" class="transition-arrow-section">
        <div id="transition-arrow" class="transition-arrow">
          <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 5v14M5 12l7 7 7-7"/>
          </svg>
        </div>
      </div>
    </div>
  </section>

  <div class="map-container">
    <button id="resetView" class="reset-button">Reset View</button>
    <div id="map" style="width:100%; height:500px;"></div>
  </div>

  <!-- Intro scrollytelling steps moved below the map -->
  <section class="scrollytelling">
    <div class="sticky-container">
      <div class="sticky-content">
        <!-- Step 1 — national tonnage -->
        <div class="step" data-step="1">
          <h2>Every year, Americans waste <span class="stat" id="stat-tons">75&nbsp;million&nbsp;tons</span> of food.</h2>
          <p class="sub">That's roughly 40 % of everything produced for the table.</p>
          <div class="animation-container" id="waste-animation-1"></div>
        </div>
        <!-- Step 2 — skyline comparison -->
        <div class="step" data-step="2">
          <h2>Stack it up and you could fill the Empire State Building <span class="stat" id="stat-esb">450</span> times.</h2>
          <p class="sub">Picture New York's iconic tower overflowing with leftovers—<em>every three days</em>.</p>
          <div class="animation-container" id="waste-animation-2"></div>
        </div>
        <!-- Step 3 — household dollars -->
        <div class="step" data-step="3">
          <h2>The lost food is worth <span class="stat" id="stat-value">$440&nbsp;billion</span>.</h2>
          <p class="sub">For the average family, that's <span class="stat" id="stat-household">$1,400</span> vanishing from the grocery budget each year.</p>
          <div class="animation-container" id="waste-animation-3"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Scrollytelling section -->
  <!-- TODO: Tristan -->
  <section class="scrollytelling">
    <div class="sticky-container">
      <div class="sticky-content">
        <!-- Step 4 — climate impact -->
        <div class="step" data-step="4">
          <h2>As it rots, wasted food emits as much CO₂e as <span class="stat" id="stat-cars">58&nbsp;million</span> cars.</h2>
          <p class="sub">That's every car in Texas <strong>and</strong> California combined.</p>
          <div class="animation-container" id="waste-animation-4"></div>
        </div>
  
        <!-- Step 5 — water footprint -->
        <div class="step" data-step="5">
          <h2>Growing that uneaten food guzzles <span class="stat" id="stat-water">21&nbsp;trillion</span> gallons of water.</h2>
          <p class="sub">Enough to fill <span class="stat" id="stat-pools">2.3&nbsp;million</span> Olympic swimming pools.</p>
          <div class="animation-container" id="waste-animation-5"></div>
        </div>
  
        <!-- Step 6 — land footprint -->
        <div class="step" data-step="6">
          <h2>It also ties up <span class="stat" id="stat-land">56&nbsp;million</span> acres of farmland.</h2>
          <p class="sub">That's an area larger than the state of <strong>Wisconsin</strong>.</p>
          <div class="animation-container" id="waste-animation-6"></div>
        </div>
  
        <!-- Step 7 — hunger offset -->
        <div class="step" data-step="7">
          <h2>Rescuing even <strong>just 10 %</strong> of wasted food could feed <span class="stat" id="stat-people">13&nbsp;million</span> Americans facing hunger.</h2>
          <div class="animation-container" id="waste-animation-7"></div>
        </div>
  
        <!-- Step 8 — personal savings -->
        <div class="step" data-step="8">
          <h2>Keeping half your leftovers each week could keep <span class="stat" id="stat-personal">$700</span> in your wallet every year.</h2>
          <p class="sub">That's two months of average utility bills.</p>
          <div class="animation-container" id="waste-animation-8"></div>
        </div>
  
        <!-- Step 9 — methane cut via compost -->
        <div class="step" data-step="9">
          <h2>Composting the scraps instead of landfilling them can slash methane by <span class="stat" id="stat-methane">34 %</span>.</h2>
          <div class="animation-container" id="waste-animation-9"></div>
        </div>
  
        <!-- Step 10 — job creation -->
        <div class="step" data-step="10">
          <h2>Food-recovery programs could create <span class="stat" id="stat-jobs">51,000</span> new U.S. jobs.</h2>
          <p class="sub">That's equivalent to the entire craft-brewing industry workforce.</p>
          <div class="animation-container" id="waste-animation-10"></div>
        </div>
  
      </div>
    </div>
  </section>

  <!-- Solutions and Conclusions section -->
  <!-- TODO: Clayton -->

  <section class="notes">
    <h2>Writeup</h2>
    <p> <br><b>What have you done so far? </b><br>

    <br> So far, we've created the main visualization for the project, which is a map that displays how much waste is generated across different states in the USA. We have hover and tooltips implemented in our map, but we intend to add more interactive features such as being able to click on a specific state to view the breakdown of waste based on sector. <br>
    
    <br> We've also set up a GitHub repository and deployed the webpage, so it's already accessible online. In addition, we plan to create a second visualization to complement the map, which takes a scrollytelling format, to put into perspective how much waste each person, household, city, etc is generating, on average. <br>
    
    <br><b> What will be the most challenging of your project to design and why? </b><br>
    
    <br> The most challenging aspect will likely be designing and implementing the animations for the scrollytelling section, which requires good technical execution and also creativity in how we present the data in a meaningful and relatable way. We need to create a compelling narrative that clearly communicates the main insights while still being easy to understand. Then, we aim to add more interactive elements to keep the webpage engaging and informative for users. <br> 
    
    <br> Lastly, it will also be a challenge to improve the performance of our visualization to make it more seamless. <br></p>
    
    <h2>Data</h2>
    <p>ReFED U.S. State Food Surplus Summary, 2010-2023.</p>
  </section>

</body>
</html>
